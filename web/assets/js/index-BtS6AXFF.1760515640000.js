import{j as Be}from"./qrcode-vue3-D8yUKOQT.1760515640000.js";import"./request-BcLSglnk.1760515640000.js";import{l as F}from"./live-CJi1LjU-.1760515640000.js";import{c as qe}from"./vue-clipboard3-gurfPzgU.1760515640000.js";import{O as B,F as be,v as ge,f as xe,Y as ze,Z as Ve,I as de,$ as we,T as Ce,S as Te,h as Ue,a0 as Me,e as ve,B as fe,r as le,a1 as He,W as Ne,t as We,R as he}from"./ant-design-vue-C_2DJVDs.1760515640000.js";import{a8 as pe,N as Se,a9 as Ae,P as Je,a3 as ye,a4 as Qe,A as Ze,D as Ke,E as Xe}from"./@ant-design-C0A5OqUS.1760515640000.js";import{r as y,a as Ye,V as b,W as r,X as l,c as t,Z as E,a1 as T,F as H,J as u,u as S,a3 as ee,L as _e,w as te,j as Pe,t as me,$ as C,_ as Ge}from"./vue-DcFgi5qX.1760515640000.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.1760515640000.js";import{d as el}from"./lodash-es-C9rdhAyu.1760515640000.js";import"./axios-ngrFHoWO.1760515640000.js";import"./qs-CWktZ3AZ.1760515640000.js";import"./clipboard-DnI0MzOy.1760515640000.js";import"./side-channel-1jbOP96o.1760515640000.js";import"./crypto-js-tXY5sIvE.1760515640000.js";import"./index-BztT8aIG.1760515640000.js";import"./vue-i18n-CLS9bXvP.1760515640000.js";import"./@intlify-C7-MzqOv.1760515640000.js";import"./nprogress-B-22RGaj.1760515640000.js";/* empty css                                  */import"./dayjs-DPd1gJDo.1760515640000.js";import"./pinia-OK9qxgSJ.1760515640000.js";import"./pinia-plugin-persistedstate-n2tMOXAx.1760515640000.js";import"./vue-router-DGUxb0Yd.1760515640000.js";import"./@iconify-DaeSbq7b.1760515640000.js";import"./@babel-Bq4_u9L9.1760515640000.js";import"./@ctrl-DOFZgDuz.1760515640000.js";import"./resize-observer-polyfill-B1PUzC5B.1760515640000.js";import"./dom-align-CRCehRfe.1760515640000.js";import"./async-validator-9PlIezaS.1760515640000.js";import"./scroll-into-view-if-needed-B3z4cY-J.1760515640000.js";import"./throttle-debounce-CUWDS_la.1760515640000.js";import"./vue-types-CF28atMM.1760515640000.js";import"./@emotion-BtrR-yrm.1760515640000.js";import"./stylis-D5iaQeiq.1760515640000.js";const{toClipboard:ll}=qe(),ne=async(q,D="")=>{try{await ll(q),B.success({description:D+" 复制成功!"})}catch{B.error({description:D+" 复制失败!"})}},tl={__name:"form",emits:["ok"],setup(q,{expose:D,emit:U}){const s=U,g=y(!1),k=y("pull"),v=y(!1),_=y(0),e=Ye({}),x=()=>{e.isLive&&(e.speedEnum=0),v.value?F.postLive(k.value,_e(e)).then(o=>{o.status==200&&(B.success({description:"添加成功!"}),s("ok"))}):F.putLive(k.value,_.value,_e(e)).then(o=>{o.status==200&&(B.success({description:"修改成功!"}),s("ok"))})},I=o=>{console.log("Failed:",o)},O=o=>{p(),o==null?v.value=!0:(k.value=o.liveType,v.value=!1,e.name=o==null?void 0:o.name,e.url=o==null?void 0:o.url,e.enable=o==null?void 0:o.enable,e.onDemand=o==null?void 0:o.onDemand,e.audio=o==null?void 0:o.audio,e.transType=o==null?void 0:o.transType,e.authed=o==null?void 0:o.authed,e.speedEnum=o==null?void 0:o.speedEnum,e.isLive=o==null?void 0:o.isLive,_.value=o==null?void 0:o.id),g.value=!0},P=()=>{F.putLiveOne(k.value,_.value,"sign",0).then(o=>{o.status==200&&(queryData(),B.success({description:"更新成功!"}))})},w=()=>{g.value=!1},p=()=>{e.name="",e.url="",e.authed=!0,e.enable=!0,e.onDemand=!1,e.audio=!1,e.transType="TCP",e.isLive=!0,e.speedEnum=0,_.value=0,k.value="pull"},R={style:{width:"80px"}};return D({setOpen:O,setClose:w}),(o,n)=>{const X=xe,$=ge,z=Ve,J=ze,Q=de,Y=Ce,oe=we,W=Ue,ae=Te,G=Me,h=fe,se=ve,ue=be,ie=le;return r(),b(ie,{open:g.value,"onUpdate:open":n[14]||(n[14]=c=>g.value=c),title:v.value?"添加":"编辑"},{footer:l(()=>[...n[33]||(n[33]=[])]),default:l(()=>[t(ue,{model:e,"label-col":R,onFinish:x,onFinishFailed:I},{default:l(()=>[t($,{label:"启用"},{default:l(()=>[t(X,{checked:e.enable,"onUpdate:checked":n[0]||(n[0]=c=>e.enable=c)},null,8,["checked"])]),_:1}),t($,{label:"类型"},{default:l(()=>[t(J,{value:k.value,"onUpdate:value":n[1]||(n[1]=c=>k.value=c)},{default:l(()=>[_.value==0?(r(),E(H,{key:0},[t(z,{value:"pull"},{default:l(()=>[...n[15]||(n[15]=[u("拉流",-1)])]),_:1}),t(z,{value:"push"},{default:l(()=>[...n[16]||(n[16]=[u("推流",-1)])]),_:1})],64)):(r(),E(H,{key:1},[k.value=="pull"?(r(),b(z,{key:0,value:"pull"},{default:l(()=>[...n[17]||(n[17]=[u("拉流",-1)])]),_:1})):T("",!0),k.value=="push"?(r(),b(z,{key:1,value:"push"},{default:l(()=>[...n[18]||(n[18]=[u("推流",-1)])]),_:1})):T("",!0)],64))]),_:1},8,["value"])]),_:1}),t($,{label:"名称",name:"name",rules:[{required:!0,message:"名称不能为空!"}]},{default:l(()=>[t(Q,{value:e.name,"onUpdate:value":n[2]||(n[2]=c=>e.name=c),placeholder:"请输入名称"},null,8,["value"])]),_:1}),k.value=="push"?(r(),E(H,{key:0},[t($,{label:"推流鉴权"},{default:l(()=>[t(X,{checked:e.authed,"onUpdate:checked":n[3]||(n[3]=c=>e.authed=c)},null,8,["checked"])]),_:1}),e.url!=""?(r(),b($,{key:0,label:"推流地址"},{default:l(()=>[t(Q,{value:e.url,"onUpdate:value":n[6]||(n[6]=c=>e.url=c),disabled:""},{addonBefore:l(()=>[t(oe,{placement:"top"},{content:l(()=>[t(Y,{bordered:!1,color:"warning"},{default:l(()=>[...n[19]||(n[19]=[u("注: 启用鉴权后更新鉴权，推流会断开重新校验!",-1)])]),_:1})]),title:l(()=>[...n[20]||(n[20]=[])]),default:l(()=>[t(S(Se),{class:"cp",onClick:n[4]||(n[4]=c=>P())})]),_:1})]),addonAfter:l(()=>[t(S(pe),{class:"cp",onClick:n[5]||(n[5]=c=>S(ne)(e.url))})]),_:1},8,["value"])]),_:1})):T("",!0),e.url!=""?(r(),b($,{key:1,label:"扫码推流"},{default:l(()=>[t(S(Be),{width:200,height:200,value:e.url,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},dotsOptions:{type:"dots",color:"#000000",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#000000"},{offset:1,color:"#000000"}]}},backgroundOptions:{color:"#ffffff"},cornersSquareOptions:{type:"dot",color:"#000000"},cornersDotOptions:{type:void 0,color:"#000000"},fileExt:"png",myclass:"my-qur",imgclass:"img-qr"},null,8,["value"])]),_:1})):T("",!0)],64)):T("",!0),k.value=="pull"?(r(),E(H,{key:1},[t($,{label:"地址"},{default:l(()=>[t(Q,{value:e.url,"onUpdate:value":n[7]||(n[7]=c=>e.url=c),placeholder:"请输入地址rtsp://"},null,8,["value"])]),_:1}),t($,{label:"流类型"},{default:l(()=>[t(J,{value:e.isLive,"onUpdate:value":n[8]||(n[8]=c=>e.isLive=c)},{default:l(()=>[t(z,{value:!0},{default:l(()=>[...n[21]||(n[21]=[u("在线流",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),e.isLive?T("",!0):(r(),b($,{key:0,label:"倍速"},{default:l(()=>[t(ae,{value:e.speedEnum,"onUpdate:value":n[9]||(n[9]=c=>e.speedEnum=c),style:{width:"133px"}},{default:l(()=>[t(W,{value:0},{default:l(()=>[...n[22]||(n[22]=[u("标准",-1)])]),_:1}),t(W,{value:6},{default:l(()=>[...n[23]||(n[23]=[u("2倍速",-1)])]),_:1}),t(W,{value:7},{default:l(()=>[...n[24]||(n[24]=[u("4倍速",-1)])]),_:1}),t(W,{value:8},{default:l(()=>[...n[25]||(n[25]=[u("8倍速",-1)])]),_:1}),t(W,{value:9},{default:l(()=>[...n[26]||(n[26]=[u("16倍速",-1)])]),_:1})]),_:1},8,["value"])]),_:1})),t($,{label:"协议"},{default:l(()=>[t(J,{value:e.transType,"onUpdate:value":n[10]||(n[10]=c=>e.transType=c)},{default:l(()=>[t(z,{value:"TCP"},{default:l(()=>[...n[27]||(n[27]=[u("TCP",-1)])]),_:1}),t(z,{value:"UDP"},{default:l(()=>[...n[28]||(n[28]=[u("UDP",-1)])]),_:1}),t(z,{value:"Multicast"},{default:l(()=>[...n[29]||(n[29]=[u("其他",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),t($,{label:"其他"},{default:l(()=>[t(G,{checked:e.onDemand,"onUpdate:checked":n[11]||(n[11]=c=>e.onDemand=c)},{default:l(()=>[...n[30]||(n[30]=[u("按需",-1)])]),_:1},8,["checked"]),t(G,{checked:e.audio,"onUpdate:checked":n[12]||(n[12]=c=>e.audio=c)},{default:l(()=>[...n[31]||(n[31]=[u("音频",-1)])]),_:1},8,["checked"])]),_:1})],64)):T("",!0),t(se,{justify:"flex-end"},{default:l(()=>[t(h,{onClick:n[13]||(n[13]=c=>g.value=!1)},{default:l(()=>[...n[32]||(n[32]=[u("取消",-1)])]),_:1}),t(h,{type:"primary","html-type":"submit",class:"ml16px"},{default:l(()=>[u(ee(v.value?"提交":"修改"),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])}}},nl={class:"player-pro-live"},ol={__name:"live",props:{background:{type:String,default:""},videoUrl:{type:String,default:""},watermark:{type:Object,default:()=>{}},isLogo:{type:Boolean,default:!0},muted:{type:Boolean,default:!1}},emits:["contextmenuClose","statsInfo"],setup(q,{emit:D}){const U=D,s=y(null),g=y(!0),k=y(null),v=q,_=()=>{var w=k.value;console.log(w);let p={MSE:!0,stretch:!1,isLogo:v.isLogo};s.value=new window.EasyPlayerPro(w,p),s.value.on("error",(R,o)=>{console.log("error:",R,o)}),s.value.on("timeout",()=>{x()}),s.value.on("delayTimeout",()=>{}),s.value.on("playbackEnd",()=>{}),s.value.on("liveEnd",()=>{U("contextmenuClose")}),s.value.on("recordEnd",R=>{}),s.value.on("play",()=>{}),s.value.on("contextmenuClose",()=>{U("contextmenuClose")}),s.value.on("stats",R=>{let o=R;o.videoPlaybackQuality=s.value.valueplayer.getVideoPlaybackQuality(),o.videoInfo=s.value.valueplayer.video&&s.value.valueplayer.video.videoInfo||{},o.audioInfo=s.value.valueplayer.audio&&s.value.valueplayer.audio.audioInfo||{},o.kbpsShow=s.value.valueplayer.control?s.value.valueplayer.control.kbpsShow:"0 KB/s",U("statsInfo",o)})},e=()=>{v.videoUrl!=""&&s.value&&s.value.play(v.videoUrl).then(()=>{}).catch(w=>{console.error("playerPro error:",w),setTimeout(()=>{x()},2e3)})},x=()=>{g.value=!1,O().then(()=>{g.value=!0,setTimeout(()=>{I().then(()=>{e()})},100)})},I=()=>new Promise((w,p)=>{_(),w()}),O=()=>new Promise((w,p)=>{P(),setTimeout(()=>{w()},100)}),P=()=>{s.value&&(s.value.destroy(),s.value=null)};return te(()=>v.videoUrl,w=>{w==""?P():x()},{deep:!0}),Pe(()=>{_(),v.videoUrl!=""&&e()}),me(()=>{P()}),(w,p)=>(r(),E("div",nl,[g.value?(r(),E("div",{key:0,ref_key:"EasyplayerProRef",ref:k},null,512)):T("",!0)]))}},al=ce(ol,[["__scopeId","data-v-cb7f5da5"]]),sl=["src"],ul={__name:"index",props:{imgUrl:{type:String,default:""}},emits:[""],setup(q,{emit:D}){const U=y(!1),s=q,g=()=>{U.value=!0};return te(()=>s.videoUrl,k=>{},{deep:!0}),Pe(()=>{}),me(()=>{}),(k,v)=>{const _=ve;return r(),b(_,{class:"img-box cp",justify:"center",align:"center"},{default:l(()=>[U.value||q.imgUrl==""?(r(),b(_,{key:0,justify:"center",align:"center"},{default:l(()=>[t(S(Ae))]),_:1})):(r(),E("img",{key:1,src:q.imgUrl,alt:"png",onError:v[0]||(v[0]=e=>g(e))},null,40,sl))]),_:1})}}},ke=ce(ul,[["__scopeId","data-v-478014c2"]]),il={class:"flex items-center space-x-2"},rl={class:"flex items-center space-x-2"},pl={class:"flex items-center space-x-2"},dl={class:"flex items-center space-x-2"},vl={class:"flex items-center space-x-2"},fl={class:"flex items-center space-x-2"},ml={__name:"url",setup(q,{expose:D}){const U=y(!1),s=y({http_flv:"",http_hls:"",ws_flv:"",webrtc:"",rtmp:"",rtsp:""}),g=_=>{s.value=_,U.value=!0},k=()=>{U.value=!1},v=_=>{ne(_)};return D({open:g}),(_,e)=>{const x=de,I=fe,O=ge,P=be,w=le;return r(),b(w,{open:U.value,"onUpdate:open":e[12]||(e[12]=p=>U.value=p),centered:"",title:"分发流地址",onCancel:k},{default:l(()=>[t(P,{layout:"vertical",model:s.value,class:"pt-2"},{default:l(()=>[t(O,{label:"HTTP-FLV"},{default:l(()=>[C("div",il,[t(x,{value:s.value.http_flv,"onUpdate:value":e[0]||(e[0]=p=>s.value.http_flv=p),readonly:"",disabled:""},null,8,["value"]),t(I,{onClick:e[1]||(e[1]=p=>v(s.value.http_flv))},{default:l(()=>[...e[13]||(e[13]=[u("复制",-1)])]),_:1})])]),_:1}),t(O,{label:"HTTP-HLS"},{default:l(()=>[C("div",rl,[t(x,{value:s.value.http_hls,"onUpdate:value":e[2]||(e[2]=p=>s.value.http_hls=p),readonly:"",disabled:""},null,8,["value"]),t(I,{onClick:e[3]||(e[3]=p=>v(s.value.http_hls))},{default:l(()=>[...e[14]||(e[14]=[u("复制",-1)])]),_:1})])]),_:1}),t(O,{label:"WS-FLV"},{default:l(()=>[C("div",pl,[t(x,{value:s.value.ws_flv,"onUpdate:value":e[4]||(e[4]=p=>s.value.ws_flv=p),readonly:"",disabled:""},null,8,["value"]),t(I,{onClick:e[5]||(e[5]=p=>v(s.value.ws_flv))},{default:l(()=>[...e[15]||(e[15]=[u("复制",-1)])]),_:1})])]),_:1}),t(O,{label:"WebRTC"},{default:l(()=>[C("div",dl,[t(x,{value:s.value.webrtc,"onUpdate:value":e[6]||(e[6]=p=>s.value.webrtc=p),readonly:"",disabled:""},null,8,["value"]),t(I,{onClick:e[7]||(e[7]=p=>v(s.value.webrtc))},{default:l(()=>[...e[16]||(e[16]=[u("复制",-1)])]),_:1})])]),_:1}),t(O,{label:"RTMP"},{default:l(()=>[C("div",vl,[t(x,{value:s.value.rtmp,"onUpdate:value":e[8]||(e[8]=p=>s.value.rtmp=p),readonly:"",disabled:""},null,8,["value"]),t(I,{onClick:e[9]||(e[9]=p=>v(s.value.rtmp))},{default:l(()=>[...e[17]||(e[17]=[u("复制",-1)])]),_:1})])]),_:1}),t(O,{label:"RTSP"},{default:l(()=>[C("div",fl,[t(x,{value:s.value.rtsp,"onUpdate:value":e[10]||(e[10]=p=>s.value.rtsp=p),readonly:"",disabled:""},null,8,["value"]),t(I,{onClick:e[11]||(e[11]=p=>v(s.value.rtsp))},{default:l(()=>[...e[18]||(e[18]=[u("复制",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}},cl={class:"bg-white rounded-md cursor-pointer p-2 flex justify-between items-center"},yl={class:"bg-white rounded-md mt-5"},_l={class:"w300px h200px"},kl={class:"w60px h24px"},bl={class:"json-display"},gl={class:"pagination-box p10px"},xl={class:"h400px"},wl={class:"ml16px"},Cl={class:"cp"},Tl={__name:"index",setup(q){const D=[{title:"ID",width:80,dataIndex:"id",key:"id",fixed:"left"},{title:"名称",width:160,dataIndex:"name",key:"name"},{title:"快照",align:"center",width:80,dataIndex:"snapURL",key:"snapURL"},{title:"状态",align:"center",width:80,dataIndex:"online",key:"online"},{title:"类型",align:"center",width:100,dataIndex:"liveType",key:"liveType"},{title:"启用",align:"center",width:80,dataIndex:"enable",key:"enable"},{title:"详情",align:"center",width:80,dataIndex:"info",key:"info"},{title:"地址",align:"center",width:100,dataIndex:"url",key:"url"},{title:"创建时间",align:"center",width:160,dataIndex:"created_at",key:"created_at"},{title:"操作",key:"operation",fixed:"right",align:"center",width:160}],U=y([]),s=y(null),g=y(null),k=y(null),v=y(null),_=y(!1),e=y(""),x=y(""),I=y(""),O=y(""),P=y([]),w=y({rtmp:"",rtsp:""}),p=y(""),R=y(""),o={current:1,pageSize:10,total:0,q:void 0,type:void 0},n=y(),X=i=>{F.postPlayStart(i).then(a=>{const d=a.data.info,f={http_flv:d.http_flv,http_hls:d.http_hls,ws_flv:d.ws_flv,webrtc:d.webrtc,rtmp:d.rtmp,rtsp:d.rtsp};n.value.open(f)})},$=(i,a)=>{F.getLiveInfo(i.id).then(d=>{console.log(d)}),F.getStreamInfo(i.id).then(d=>{if(d.status==200){if(d.data.code==0){let f=d.data.data;if(f.pub&&f.pub.session_id==""&&delete f.pub,f.pull&&f.pull.session_id==""&&delete f.pull,f.subs&&f.subs.length>=1){let V=[];f.subs.forEach(j=>{j.session_id!=""&&V.push(j)}),f.subs=[...V]}else delete f.subs;O.value=JSON.stringify(f,null,2)}else O.value=JSON.stringify(d.data,null,2);a&&B.success({description:"刷新成功!"})}})},z=()=>{s.value=setInterval(()=>{N()},6e3)},J=()=>{clearInterval(s.value),s.value!=null&&(s.value=null)},Q=()=>{R.value==""?o.type=void 0:o.type=R.value,N()},Y=()=>{p.value==""?o.q=void 0:o.q=p.value,N()},oe=el(()=>{Y()},500);te(()=>p.value,()=>{oe()});const W=i=>{x.value=i.value,I.value=i.key,!(i.value.includes("rtmp")||i.value.includes("rtsp"))&&(e.value=i.value)},ae=i=>{if(i.enable==0){B.warning({description:"通道未启用!"});return}if(i.online==0){B.warning({description:"通道已离线!"});return}k.value=i.id,F.postPlayStart(k.value).then(a=>{if(a.status==200){_.value=!0;let d=a.data.info||{};P.value=[];let f="";for(const V in d){let j=d[V];switch(V){case"http_flv":f=j,I.value="HTTP-FLV",P.value.push({key:"HTTP-FLV",value:j});break;case"http_hls":P.value.push({key:"HTTP-HLS",value:j});break;case"ws_flv":P.value.push({key:"WS-FLV",value:j});break;case"webrtc":P.value.push({key:"WEBRTC",value:j});break;case"rtsp":P.value.push({key:"RTSP",value:j});break}}f!=""&&(x.value=f,e.value=f)}}),i.liveType=="pull"&&i.onDemand&&G()},G=()=>{g.value=setInterval(()=>{F.postPlayStart(k.value)},15e3)},h=()=>{clearInterval(g.value),g.value!=null&&(g.value=null)},se=()=>{v.value&&v.value.setOpen(null)},ue=i=>{v.value&&v.value.setOpen(i)},ie=(i,a)=>{let d="",f=null;switch(i){case"enable":d="enable",f=a.enable?1:0;break;case"onDemand":d="onDemand",f=a.onDemand?1:0;break;case"audio":d="audio",f=a.audio?1:0;break}if(d==""||f==null){B.error({description:"参数异常!"});return}F.putLiveOne(a.liveType,a.id,d,f).then(V=>{V.status==200&&(N(),B.success({description:"更新成功!"}))})},c=()=>{h()};te(()=>_.value,i=>{i==!1&&h()},{deep:!0});const $e=()=>{N(),v.value&&v.value.setClose()},Le=i=>{le.confirm({title:`确定要删除 “${i.name}” 吗?`,icon:t(Xe),okText:"确定",okType:"danger",cancelText:"取消",onOk(){F.deleteLive(i.id).then(a=>{a.status==200&&(B.success({description:"删除成功!"}),N())})},onCancel(){}})},N=()=>{F.getLiveList({page:o.current,size:o.pageSize,type:o.type,q:o.q}).then(i=>{i.status==200&&(o.total=i.data.total,U.value=i.data.items,w.value.rtmp=i.data.rtmp,w.value.rtsp=i.data.rtsp)}).catch(i=>{})},Ie=i=>{o.current=i,N()};return N(),z(),me(()=>{J(),h()}),(i,a)=>{const d=fe,f=Ue,V=Te,j=he,Oe=We,A=ve,Z=Ce,Ee=xe,re=we,De=He,Re=Ne,je=de,Fe=le;return r(),E(H,null,[C("div",cl,[C("div",null,[t(d,{type:"primary",onClick:se},{icon:l(()=>[t(S(Je))]),default:l(()=>[a[8]||(a[8]=u(" 创建直播 ",-1))]),_:1})]),t(A,{justify:"flex-end"},{default:l(()=>[t(Oe,null,{default:l(()=>[t(V,{value:R.value,"onUpdate:value":a[0]||(a[0]=m=>R.value=m),style:{width:"80px"},onChange:Q},{default:l(()=>[t(f,{value:""},{default:l(()=>[...a[9]||(a[9]=[u("全部",-1)])]),_:1}),t(f,{value:"pull"},{default:l(()=>[...a[10]||(a[10]=[u("拉流",-1)])]),_:1}),t(f,{value:"push"},{default:l(()=>[...a[11]||(a[11]=[u("推流",-1)])]),_:1})]),_:1},8,["value"]),t(j,{value:p.value,"onUpdate:value":a[1]||(a[1]=m=>p.value=m),placeholder:"请输入关键字...",class:"w-68","enter-button":"",onSearch:Y},null,8,["value"])]),_:1})]),_:1})]),C("div",yl,[t(De,{columns:D,"data-source":U.value,pagination:!1,scroll:{x:1200}},{bodyCell:l(({column:m,text:K,record:L})=>[m.key==="operation"?(r(),E(H,{key:0},[t(d,{type:"primary",shape:"circle",class:"mr5px",onClick:M=>ae(K)},{default:l(()=>[t(S(ye))]),_:1},8,["onClick"]),t(d,{type:"primary",shape:"circle",class:"mr5px ml5px",onClick:M=>ue(K)},{default:l(()=>[t(S(Qe))]),_:1},8,["onClick"]),t(d,{type:"primary",danger:"",shape:"circle",class:"ml5px",onClick:M=>Le(K)},{default:l(()=>[t(S(Ze))]),_:1},8,["onClick"])],64)):T("",!0),m.key==="liveType"?(r(),E(H,{key:1},[L.liveType=="pull"?(r(),b(Z,{key:0,class:"mr0px",color:"success"},{default:l(()=>[...a[12]||(a[12]=[u("拉流",-1)])]),_:1})):L.liveType=="push"?(r(),b(Z,{key:1,class:"mr0px",color:"warning"},{default:l(()=>[...a[13]||(a[13]=[u("推流",-1)])]),_:1})):T("",!0)],64)):T("",!0),m.key==="online"?(r(),E(H,{key:2},[L.online==1?(r(),b(Z,{key:0,class:"mr0px",color:"success"},{default:l(()=>[...a[14]||(a[14]=[u("在线",-1)])]),_:1})):L.online==2?(r(),b(Z,{key:1,class:"mr0px",color:"success"},{default:l(()=>[...a[15]||(a[15]=[u("直播中",-1)])]),_:1})):(r(),b(Z,{key:2,class:"mr0px",color:"default"},{default:l(()=>[...a[16]||(a[16]=[u("离线",-1)])]),_:1}))],64)):T("",!0),m.key==="url"?(r(),b(d,{key:3,size:"small",onClick:M=>X(L.id)},{default:l(()=>[...a[17]||(a[17]=[u("查看流地址",-1)])]),_:1},8,["onClick"])):T("",!0),m.key==="enable"?(r(),b(Ee,{key:4,checked:L.enable,"onUpdate:checked":M=>L.enable=M,onChange:M=>ie("enable",L)},null,8,["checked","onUpdate:checked","onChange"])):T("",!0),m.key==="snapURL"?(r(),b(A,{key:5,justify:"center"},{default:l(()=>[t(re,{placement:"left"},{content:l(()=>[C("div",_l,[t(ke,{"img-url":L.snapURL},null,8,["img-url"])])]),title:l(()=>[...a[18]||(a[18]=[])]),default:l(()=>[C("div",kl,[t(ke,{"img-url":L.snapURL},null,8,["img-url"])])]),_:2},1024)]),_:2},1024)):T("",!0),m.key==="info"?(r(),b(A,{key:6,justify:"center"},{default:l(()=>[t(re,{placement:"left"},{content:l(()=>[C("pre",bl,ee(O.value),1)]),title:l(()=>[t(A,{justify:"space-between"},{default:l(()=>[a[19]||(a[19]=C("span",null,"视频流详情",-1)),t(S(Se),{class:"cp",onClick:M=>$(L,!0)},null,8,["onClick"])]),_:2},1024)]),default:l(()=>[t(d,{size:"small",class:"mr0px cp",onMouseover:M=>$(L,!1),onClick:M=>$(L,!0)},{default:l(()=>[...a[20]||(a[20]=[u("详情",-1)])]),_:1},8,["onMouseover","onClick"])]),_:2},1024)]),_:2},1024)):T("",!0)]),_:1},8,["data-source"]),C("div",gl,[t(Re,{current:o.current,"onUpdate:current":a[2]||(a[2]=m=>o.current=m),pageSize:o.pageSize,"onUpdate:pageSize":a[3]||(a[3]=m=>o.pageSize=m),size:i.small,onChange:Ie,total:o.total,"show-total":m=>`共 ${m} 项`,"show-less-items":""},null,8,["current","pageSize","size","total","show-total"])]),t(tl,{ref_key:"LiveFormRef",ref:v,onOk:$e},null,512),t(Fe,{open:_.value,"onUpdate:open":a[7]||(a[7]=m=>_.value=m),title:"直播",width:"760px",onClose:c},{footer:l(()=>[t(A,{justify:"flex-end"},{default:l(()=>[t(je,{value:x.value,"onUpdate:value":a[5]||(a[5]=m=>x.value=m),disabled:""},{addonBefore:l(()=>[t(re,{placement:"right"},{content:l(()=>[(r(!0),E(H,null,Ge(P.value,(m,K)=>(r(),b(A,{justify:"space-between",class:"cp m14px",key:K},{default:l(()=>[C("span",null,ee(m.key),1),C("div",wl,[m.key!="RTMP"&&m.key!="RTSP"?(r(),b(S(ye),{key:0,style:{color:"#0cbb92"},onClick:L=>W(m)},null,8,["onClick"])):T("",!0),t(S(pe),{class:"ml16px",style:{color:"#0cbb92"},onClick:L=>S(ne)(m.value)},null,8,["onClick"])])]),_:2},1024))),128))]),title:l(()=>[...a[21]||(a[21]=[])]),default:l(()=>[C("span",Cl,[u(ee(I.value)+" ",1),t(S(Ke))])]),_:1})]),addonAfter:l(()=>[t(S(pe),{class:"cp",onClick:a[4]||(a[4]=m=>S(ne)(x.value))})]),_:1},8,["value"]),t(d,{onClick:a[6]||(a[6]=m=>_.value=!1),class:"ml16px"},{default:l(()=>[...a[22]||(a[22]=[u("关闭",-1)])]),_:1})]),_:1})]),default:l(()=>[C("div",xl,[_.value?(r(),b(al,{key:0,videoUrl:e.value},null,8,["videoUrl"])):T("",!0)])]),_:1},8,["open"]),t(ml,{ref_key:"urlModalRef",ref:n},null,512)])],64)}}},at=ce(Tl,[["__scopeId","data-v-1c6fd126"]]);export{at as default};
