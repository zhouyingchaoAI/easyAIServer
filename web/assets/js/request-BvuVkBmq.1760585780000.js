import{a}from"./axios-ngrFHoWO.1760585780000.js";import{q as i}from"./qs-BJhd2v6h.1760585780000.js";import{g as o}from"./index-zVswsOZi.1760585780000.js";import{O as r}from"./ant-design-vue-B-CDbQBZ.1760585780000.js";const t=a.create({baseURL:"/api/v1/"});t.interceptors.request.use(e=>(e.paramsSerializer={serialize:s=>i.stringify(s,{arrayFormat:"repeat"})},e.headers.authorization=`Bearer ${o()}`,e),e=>Promise.reject(e));t.interceptors.response.use(e=>e,e=>{if(e.response.status==401){location.href="/#/login";let s="Interface Authentication Failure 401!";return e.response.data&&e.response.data.msg&&(s=e.response.data.msg),r.error({description:s}),Promise.reject(e)}else{let s="api error";return e.response.data&&e.response.data.msg&&(s=e.response.data.msg),r.error({description:s}),Promise.reject(e)}});export{t as r};
